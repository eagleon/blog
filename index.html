<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>大侠曾</title>

  
  <meta name="author" content="大侠曾">
  

  

  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  

  <meta property="og:site_name" content="大侠曾"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="大侠曾" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">大侠曾</a>
    </h1>
    <p class="site-description"></p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">主页</a></li>
      
        <li><a href="/archives">归档</a></li>
      
        <li><a href="/about">关于</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    
  <article>

  
    
    <h3 class="article-title"><a href="/2019/01/24/0x18-idea插件推荐/"><span>0x18-idea插件推荐</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2019/01/24/0x18-idea插件推荐/" rel="bookmark">
        <time class="entry-date published" datetime="2019-01-24T12:17:02.000Z">
          2019-01-24
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <span id="more"></span>

<h1 id="idea插件推荐"><a href="#idea插件推荐" class="headerlink" title="idea插件推荐"></a>idea插件推荐</h1><h2 id="1-快速生成Java-对象复制"><a href="#1-快速生成Java-对象复制" class="headerlink" title="1.快速生成Java 对象复制"></a>1.快速生成Java 对象复制</h2><p><a target="_blank" rel="noopener" href="https://plugins.jetbrains.com/plugin/9360-generateallsetter">https://plugins.jetbrains.com/plugin/9360-generateallsetter</a></p>
<h2 id="2-grep-console"><a href="#2-grep-console" class="headerlink" title="2.grep console"></a>2.grep console</h2><p>console 对于不同级别的日志做高亮</p>
<h2 id="3-lombok"><a href="#3-lombok" class="headerlink" title="3.lombok"></a>3.lombok</h2><p><a target="_blank" rel="noopener" href="https://github.com/mplushnikov/lombok-intellij-plugin">https://github.com/mplushnikov/lombok-intellij-plugin</a></p>
<h2 id="4-lombok"><a href="#4-lombok" class="headerlink" title="4.lombok"></a>4.lombok</h2><h2 id="5-CodeGlance"><a href="#5-CodeGlance" class="headerlink" title="5.CodeGlance"></a>5.CodeGlance</h2><p><a target="_blank" rel="noopener" href="https://github.com/Vektah/CodeGlance">https://github.com/Vektah/CodeGlance</a></p>
<h2 id="6-Alibaba-Java-Coding-Guidelines"><a href="#6-Alibaba-Java-Coding-Guidelines" class="headerlink" title="6.Alibaba Java Coding Guidelines"></a>6.Alibaba Java Coding Guidelines</h2><p><a target="_blank" rel="noopener" href="https://github.com/alibaba/p3c">https://github.com/alibaba/p3c</a></p>
<h2 id="7-GsonFormat"><a href="#7-GsonFormat" class="headerlink" title="7.GsonFormat"></a>7.GsonFormat</h2><p>把JSON转换成bean</p>
<h2 id="8-String-Manipulation"><a href="#8-String-Manipulation" class="headerlink" title="8.String Manipulation"></a>8.String Manipulation</h2><h2 id="9-File-Expander"><a href="#9-File-Expander" class="headerlink" title="9.File Expander"></a>9.File Expander</h2><p>有了这个插件，有些小伙伴平时用的Jad工具就可以扔了，它能在Idea里直接打开Jar包，并且反编译代码查看。甚至于能打开tar.gz，zip等压缩格式。</p>
<p>这里补充下，你项目里之所以不需要装插件就能看jar包里的代码，是因为jar在你的classpath内。如果单独打开一个jar包，不装插件是看不了的。</p>
<h2 id="10-GitToolBox"><a href="#10-GitToolBox" class="headerlink" title="10.GitToolBox"></a>10.GitToolBox</h2><p>他能在项目上提示你还有多少文件没提交，远程还有多少文件没更新下来。还能在每一行代码上提示上次提交的时间。查版本提交问题的时候尤其方便。</p>
<h2 id="11-Maven-Helper"><a href="#11-Maven-Helper" class="headerlink" title="11.Maven Helper"></a>11.Maven Helper</h2><p>排查Jar包依赖等问题用这个简直是神器。这个插件也提供了一些其他的快捷命令，右键直接唤起maven命令，颇为方便。</p>
<h2 id="12-mybatisx"><a href="#12-mybatisx" class="headerlink" title="12.mybatisx"></a>12.mybatisx</h2><blockquote>
<p>mybatisx</p>
</blockquote>
<h2 id="13-GenerateAllSetter"><a href="#13-GenerateAllSetter" class="headerlink" title="13.GenerateAllSetter"></a>13.GenerateAllSetter</h2><p><img src="https://user-images.githubusercontent.com/1006119/196078215-51497fdf-d8fb-4a0c-b35b-1798782f7315.png" alt="image"><br><img src="https://user-images.githubusercontent.com/1006119/196078234-1bf20816-b931-46b5-b48b-142336790bf8.png" alt="image"></p>
<h2 id=""><a href="#" class="headerlink" title=""></a></h2><p>refer :<br><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/nyn9gDfRmSb_WVOv7atEHA">https://mp.weixin.qq.com/s/nyn9gDfRmSb_WVOv7atEHA</a><br><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/0kMnzxXvkh1w1L23y4kKiw">https://mp.weixin.qq.com/s/0kMnzxXvkh1w1L23y4kKiw</a><br><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/XkwyN3xmeFks_JFIdcCmJA">https://mp.weixin.qq.com/s/XkwyN3xmeFks_JFIdcCmJA</a></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2018/09/28/0x17-Visual Studio Code使用指南/"><span>0x17-Visual Studio Code使用指南</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2018/09/28/0x17-Visual Studio Code使用指南/" rel="bookmark">
        <time class="entry-date published" datetime="2018-09-28T10:27:47.000Z">
          2018-09-28
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <span id="more"></span>

<h2 id="Visual-Studio-Code使用指南"><a href="#Visual-Studio-Code使用指南" class="headerlink" title="Visual Studio Code使用指南"></a>Visual Studio Code使用指南</h2><h3 id="1-常用插件推荐"><a href="#1-常用插件推荐" class="headerlink" title="1. 常用插件推荐"></a>1. 常用插件推荐</h3><ul>
<li>plantuml</li>
<li>go</li>
<li>code runner</li>
<li>Markdown PDF</li>
<li>Markdown All in One</li>
<li>nginx.conf</li>
<li>Protobuf support</li>
<li>Todo Tree</li>
<li>插件名称：Beautify<br>Beautify 插件可以快速格式化你的代码格式，让你在编写代码时杂乱的代码结构瞬间变得非常规整，代码强迫症必备，较好的代码格式在后期维护以及他人阅读时都会有很多的便利。</li>
<li>vscode-icons<br>vscode-icons 插件可以实现对各种文件类型的文件前的图标进行优化显示，这样我们在查看长长的文件列表的时候，可以直接通过文件的图标就可以快速知道文件的类型，而不是去看文件的后缀。</li>
</ul>
<h3 id="2-语言支持"><a href="#2-语言支持" class="headerlink" title="2.语言支持"></a>2.语言支持</h3><h4 id="2-1-go"><a href="#2-1-go" class="headerlink" title="2.1 go"></a>2.1 go</h4><p><a target="_blank" rel="noopener" href="https://github.com/developer-learning/night-reading-go/blob/master/discuss/2018-09-14-tips-in-vscode.md">VSCode 如何代码自动补全和自动导入包</a></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2018/03/15/0x19-使用Chrome 62 自带原生截图/"><span>0x19-使用Chrome 62 自带原生截图</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2018/03/15/0x19-使用Chrome 62 自带原生截图/" rel="bookmark">
        <time class="entry-date published" datetime="2018-03-15T16:02:17.000Z">
          2018-03-15
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <span id="more"></span>


<p>Chrome 62 开始 自带原生截图。下面介绍了 区域截图、全页面截图、可视范围截图、页面元素按块截图 四种方法，应该够用了</p>
<p>整理了一下：</p>
<p><strong>区域截图 :</strong></p>
<blockquote>
<p>Ctrl&#x2F;Command + Shift + C 调出界面选择器<br>Ctrl&#x2F;Command + 鼠标左键 选择希望的范围</p>
</blockquote>
<p>截图将以文件的形式自动下载</p>
<p><strong>全页面截图 :</strong></p>
<blockquote>
<p>Ctrl&#x2F;Command + Shift + C 调出开发者工具<br>Ctrl&#x2F;Command + Shift + P 调出命令菜单</p>
</blockquote>
<p>输入 screenshot，在自动筛选出的结果里选择 Capture full size screenshot</p>
<p><strong>可视范围截图 :</strong></p>
<blockquote>
<p>Ctrl&#x2F;Command + Shift + C 调出开发者工具<br>Ctrl&#x2F;Command + Shift + P 调出命令菜单</p>
</blockquote>
<p>输入 screenshot，在自动筛选出的结果里选择 Capture screenshot</p>
<p><strong>[For dev]页面元素按块截图 :</strong></p>
<blockquote>
<p>Ctrl&#x2F;Command + Shift + C 调出界面选择器<br>鼠标左键 选择希望的范围，会以高亮标识<br>Ctrl&#x2F;Command + Shift + P 调出命令菜单<br>输入 screenshot，在自动筛选出的结果里选择 Capture node screenshot</p>
</blockquote>
<p>参见 <a target="_blank" rel="noopener" href="https://developers.google.com/web/updates/2017/08/devtools-release-notes">What’s New In DevTools (Chrome 62)</a></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2018/03/15/0x20-HTTPS with Let's Encrypt/"><span>0x20-HTTPS with Let&#39;s Encrypt</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2018/03/15/0x20-HTTPS with Let's Encrypt/" rel="bookmark">
        <time class="entry-date published" datetime="2018-03-15T11:45:13.000Z">
          2018-03-15
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <span id="more"></span>

<h3 id="HTTPS指南"><a href="#HTTPS指南" class="headerlink" title="HTTPS指南"></a>HTTPS指南</h3><p>Let’s Encrypt 开始支持通配符证书， 这里是我总结的一个操作指南， 这里使用acme.sh进行配置。</p>
<h4 id="1-安装openresty"><a href="#1-安装openresty" class="headerlink" title="1. 安装openresty"></a>1. 安装openresty</h4><p>参照： <a target="_blank" rel="noopener" href="http://openresty.org/en/linux-packages.html">http://openresty.org/en/linux-packages.html</a></p>
<h4 id="2-配置openresty为服务"><a href="#2-配置openresty为服务" class="headerlink" title="2. 配置openresty为服务"></a>2. 配置openresty为服务</h4><p>参考：<a target="_blank" rel="noopener" href="https://kleshwong.com/blog/2017/01/05/setup-lua-resty-auto-ssl-in-ubuntu/">https://kleshwong.com/blog/2017/01/05/setup-lua-resty-auto-ssl-in-ubuntu/</a></p>
<blockquote>
<p>sudo vim &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;nginx.service</p>
</blockquote>
<p>nginx.service</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=The nginx HTTP and reverse proxy server</span><br><span class="line">After=syslog.target network.target remote-fs.target nss-lookup.target</span><br><span class="line">[Service]</span><br><span class="line">Type=forking</span><br><span class="line">PIDFile=/usr/local/openresty/nginx/logs/nginx.pid</span><br><span class="line">ExecStartPre=/usr/local/openresty/nginx/sbin/nginx -t</span><br><span class="line">ExecStart=/usr/local/openresty/nginx/sbin/nginx</span><br><span class="line">ExecReload=/bin/kill -s HUP $MAINPID</span><br><span class="line">ExecStop=/bin/kill -s QUIT $MAINPID</span><br><span class="line">PrivateTmp=true</span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>
<p>启用：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo systemctl <span class="built_in">enable</span> nginx</span><br><span class="line">$ sudo systemctl start nginx</span><br></pre></td></tr></table></figure>

<p>通过 <code>systemctl status nginx </code>可以看到 nginx 是不是正常启动了。若是失败这里也会输出用的日志信息。</p>
<h4 id="3-安装acme-sh"><a href="#3-安装acme-sh" class="headerlink" title="3. 安装acme.sh"></a>3. 安装acme.sh</h4><blockquote>
<p>curl <a target="_blank" rel="noopener" href="https://get.acme.sh/">https://get.acme.sh</a> | sh</p>
</blockquote>
<h4 id="4-配置域名AccessKey"><a href="#4-配置域名AccessKey" class="headerlink" title="4. 配置域名AccessKey"></a>4. 配置域名AccessKey</h4><p>参照：<a target="_blank" rel="noopener" href="https://github.com/Neilpang/acme.sh/tree/master/dnsapi">https://github.com/Neilpang/acme.sh/tree/master/dnsapi</a></p>
<h4 id="5-复制证书到对应位置"><a href="#5-复制证书到对应位置" class="headerlink" title="5. 复制证书到对应位置"></a>5. 复制证书到对应位置</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">acme.sh --install-cert -d chuqufeng.cn \</span><br><span class="line">--key-file       /usr/local/openresty/nginx/conf/ssl/chuqufeng.cn.key  \</span><br><span class="line">--fullchain-file /usr/local/openresty/nginx/conf/ssl/cert.cer \</span><br><span class="line">--reloadcmd     <span class="string">&quot;sudo service nginx force-reload&quot;</span></span><br></pre></td></tr></table></figure>
<p>生成dhparam：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl dhparam -out /usr/local/openresty/nginx/conf/ssl/dhparam.pem 2048</span><br></pre></td></tr></table></figure>

<p>配置Nginx上证书</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">  <span class="comment">##开启 HTTPS 和 HTTP/2</span></span><br><span class="line">  listen 443 ssl http2;</span><br><span class="line"></span><br><span class="line">  <span class="comment">##证书部分</span></span><br><span class="line">  <span class="comment">#证书</span></span><br><span class="line">  ssl_certificate /usr/local/openresty/nginx/conf/ssl/cert.cer;</span><br><span class="line">  <span class="comment">#密钥</span></span><br><span class="line">  ssl_certificate_key /usr/local/openresty/nginx/conf/ssl/chuqufeng.cn.key;</span><br><span class="line">  <span class="comment">#ssl_dhparam</span></span><br><span class="line">  ssl_dhparam /usr/local/openresty/nginx/conf/ssl/dhparam.pem;</span><br><span class="line">  <span class="comment">##SSL增强安全设置部分</span></span><br><span class="line">  add_header Strict-Transport-Security max-age=15768000; <span class="comment">#HSTS设置</span></span><br><span class="line">  ssl_protocols TLSv1 TLSv1.1 TLSv1.2;</span><br><span class="line">  ssl_ciphers EECDH+CHACHA20:EECDH+CHACHA20-draft:EECDH+ECDSA+AES128:EECDH+aRSA+AES128:RSA+AES128:EECDH+ECDSA+AES256:EECDH+aRSA+AES256:RSA+AES256:EECDH+ECDSA+3DES:EECDH+aRSA+3DES:RSA+3DES:!MD5;</span><br><span class="line">  <span class="comment">#关键</span></span><br><span class="line">  ssl_prefer_server_ciphers on;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="6-重启openresty"><a href="#6-重启openresty" class="headerlink" title="6. 重启openresty"></a>6. 重启openresty</h4><blockquote>
<p>sudo service nginx restart</p>
</blockquote>
<h4 id="7-Result"><a href="#7-Result" class="headerlink" title="7. Result"></a>7. Result</h4><p>现在<a target="_blank" rel="noopener" href="https://www.ssllabs.com/">https://www.ssllabs.com</a> 评分为A+</p>
<p>参考文章：</p>
<p><a target="_blank" rel="noopener" href="https://www.textarea.com/zhicheng/fenxiang-yige-https-a-di-nginx-peizhi-320/">https://www.textarea.com/zhicheng/fenxiang-yige-https-a-di-nginx-peizhi-320/</a> </p>
<p><a target="_blank" rel="noopener" href="https://ruby-china.org/topics/31983">https://ruby-china.org/topics/31983</a></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/10/16/0x16-OpenResty/"><span>0x16-OpenResty</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/10/16/0x16-OpenResty/" rel="bookmark">
        <time class="entry-date published" datetime="2017-10-16T17:43:18.000Z">
          2017-10-16
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <span id="more"></span>

<h1 id="openresty"><a href="#openresty" class="headerlink" title="openresty"></a>openresty</h1><h2 id="1-install-on-deepin"><a href="#1-install-on-deepin" class="headerlink" title="1. install on deepin"></a>1. install on deepin</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">wget https://www.openssl.org/source/openssl-1.0.2k.tar.gz</span><br><span class="line">tar -zvxf openssl-1.0.2k.tar.gz</span><br><span class="line">cd openssl-1.0.2k/</span><br><span class="line">patch -p1 &lt; /path/to/openresty/patches/openssl-1.0.2h-sess_set_get_cb_yield.patch</span><br><span class="line">cd ..</span><br><span class="line"></span><br><span class="line">wget ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-8.40.tar.gz</span><br><span class="line">tar -xvf pcre-8.40.tar.gz</span><br><span class="line"></span><br><span class="line">wget https://openresty.org/download/openresty-1.11.2.5.tar.gz</span><br><span class="line">tar -zxvf openresty-1.11.2.5.tar.gz</span><br><span class="line">cd openresty-1.11.2.5/</span><br><span class="line"></span><br><span class="line">## assuming your have 4 spare logical CPU cores</span><br><span class="line"></span><br><span class="line">./configure --with-openssl=../openssl-1.0.2k \</span><br><span class="line">                 --with-pcre=../pcre-8.40 -j4</span><br><span class="line">make -j4</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure>

<h4 id="openssl安装参考"><a href="#openssl安装参考" class="headerlink" title="openssl安装参考"></a>openssl安装参考</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">1、从下列页面下载最新的OpenSSL http://openssl.org/source/</span><br><span class="line"></span><br><span class="line">2、openssl-1.0.0d.tar.gz 解压命令：tar zxvf openssl-1.0.0d.tar.gz</span><br><span class="line"></span><br><span class="line">3、默认的安装目录为/usr/local/ssl </span><br><span class="line"></span><br><span class="line">在配置过程中可以使用--prefix=/*** 改变安装目录</span><br><span class="line"></span><br><span class="line">4、./config配置</span><br><span class="line"></span><br><span class="line">5、make</span><br><span class="line"></span><br><span class="line">6、make install</span><br><span class="line"></span><br><span class="line">最后到/usr/local/ssl可以看到安装的文件</span><br><span class="line"> </span><br><span class="line">如果电脑中已经安装过OpenSSL那么需要进行升级</span><br><span class="line">可以通过命令openssl version或者openssl version -a来查看是否已经安装了OpenSSL</span><br><span class="line"></span><br><span class="line">升级过程为：</span><br><span class="line"></span><br><span class="line">1、按照安装过程执行到make install</span><br><span class="line"></span><br><span class="line">2、执行以下命令：</span><br><span class="line">mv /usr/bin/openssl /usr/bin/openssl.OFF</span><br><span class="line">mv /usr/include/openssl /usr/include/openssl.OFF</span><br><span class="line">ln –s /usr/local/ssl/bin/openssl /usr/bin/openssl</span><br><span class="line">ln –s /usr/local/ssl/include/openssl /usr/include/openssl </span><br><span class="line"></span><br><span class="line">3 配置库文件搜索路径</span><br><span class="line"></span><br><span class="line">#echo “/usr/local/ssl/lib” &gt;&gt; /etc/ld.so.conf</span><br><span class="line">#ldconfig –v</span><br><span class="line"></span><br><span class="line">4 查看openssl 版本号，验证安装正确性</span><br><span class="line"></span><br><span class="line">#openssl version –a</span><br></pre></td></tr></table></figure>
      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/10/16/0x15-Docker/"><span>0x15-Docker</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/10/16/0x15-Docker/" rel="bookmark">
        <time class="entry-date published" datetime="2017-10-16T16:32:22.000Z">
          2017-10-16
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <span id="more"></span>

<h1 id="docker"><a href="#docker" class="headerlink" title="docker"></a>docker</h1><h2 id="1-mysql"><a href="#1-mysql" class="headerlink" title="1. mysql"></a>1. mysql</h2><p>sudo docker run –name first-mysql -p 3306:3306 -e MYSQL_ROOT_PASSWORD&#x3D;123456 -d mysql</p>
<h2 id="2-docker容器设置自动启动"><a href="#2-docker容器设置自动启动" class="headerlink" title="2.docker容器设置自动启动"></a>2.docker容器设置自动启动</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --name first-mysql -p 3306:3306 -e MYSQL_ROOT_PASSWORD=123456 -d mysql --restart=always</span><br></pre></td></tr></table></figure>

<p><strong>Flag	Description</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">no		不自动重启容器. (默认value)</span><br><span class="line">on-failure 	容器发生error而退出(容器退出状态不为0)重启容器</span><br><span class="line">unless-stopped 	在容器已经stop掉或Docker stoped/restarted的时候才重启容器</span><br><span class="line">always 	在容器已经stop掉或Docker stoped/restarted的时候才重启容器</span><br></pre></td></tr></table></figure>
<p>如果已经启动的项目，则使用update更新：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker update --restart=always first-mysql</span><br></pre></td></tr></table></figure>
      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/08/31/0x14 GA UTM参数解析/"><span>0x14 GA UTM参数解析</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/08/31/0x14 GA UTM参数解析/" rel="bookmark">
        <time class="entry-date published" datetime="2017-08-31T16:45:53.000Z">
          2017-08-31
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <span id="more"></span>

<h1 id="GA-UTM参数解析"><a href="#GA-UTM参数解析" class="headerlink" title="GA UTM参数解析"></a>GA UTM参数解析</h1><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>如果你订阅了知乎的每周精选，点击其中链接最终打开的页面URL应该是是类似这种形式的：</p>
<p><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/51459956/answer/130299367?utm_campaign=weekly239&amp;utm_source=weekly-digest&amp;utm_medium=email">https://www.zhihu.com/question/51459956/answer/130299367?utm_campaign=weekly239&amp;utm_source=weekly-digest&amp;utm_medium=email</a><br>可以看到上边url 问号后边带了些小尾巴，即utm_campaign&#x3D;weekly239&amp;utm_source&#x3D;weekly-digest&amp;utm_medium&#x3D;email，这种utm_开头的就是网站流量分析中常说的UTM参数，其主要用来跟踪流量的来源。</p>
<h2 id="UTM参数的含义"><a href="#UTM参数的含义" class="headerlink" title="UTM参数的含义"></a>UTM参数的含义</h2><p>上边知乎精选的URL使用了三个UTM参数，即utm_campaign, utm_source,utm_medium，实际上UTM参数总共有五个，而这里的三个是最常用的，以下说明下五个UTM参数的含义：</p>
<p><strong>utm_source</strong>：一般用来标识来源，在GA 使用UTM参数时该参数是必选的，上述utm_source&#x3D;weekly-digest表示流量来自weekly-digest</p>
<p><strong>utm_medium</strong>：一般用来标识媒介，在GA 使用UTM参数时该参数也是必选的，通常这里会用付费方式（如cpc、cpm）或者渠道所属类别（比如email、social），上述utm_medium&#x3D;email表示流量来源所属渠道是email</p>
<p><strong>utm_campaign</strong>：一般用来标识营销活动名称，GA 推荐使用该参数，上述utm_campaign&#x3D;weekly239表示流量来自weekly239这波活动</p>
<p><strong>utm_term</strong>：一般用来标识关键词，在GA 中并非必须使用，在SEM活动中这个参数通常来放投放词，比如utm_term&#x3D;web-analytics-tool</p>
<p><strong>utm_content</strong>：一般用来标识创意的版本，在GA中并非必须使用，实际广告投放中如果以上四个参数不能满足区分流量的需求，可以考虑下使用这个参数，比如用来标识A版本和B版本，或者用来标识是在顶部banner还是右侧广告等等</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/08/02/0x13-git tips/"><span>0x13-git tips</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/08/02/0x13-git tips/" rel="bookmark">
        <time class="entry-date published" datetime="2017-08-02T11:11:03.000Z">
          2017-08-02
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <span id="more"></span>

<p>本文参考 Git - Useful Tips 一文翻译，不当之处，敬请谅解<br>git</p>
<p>这篇文章的目的是给经常使用git管理项目提供一个有益的提醒。如果你是git新手，可以先阅读文后的引用部分，然后在回头阅读此篇文章。在介绍git命令之前，你可以先看看来自 on-my-zsh 提供的别名。</p>
<h3 id="基本命令"><a href="#基本命令" class="headerlink" title="基本命令"></a>基本命令</h3><ul>
<li>git config –global user.name “Your Name”</li>
<li>git config –global user.email “<a href="mailto:&#121;&#x6f;&#x75;&#x72;&#x65;&#x6d;&#x61;&#105;&#x6c;&#x40;&#x65;&#x78;&#x61;&#109;&#112;&#108;&#x65;&#x2e;&#x63;&#x6f;&#x6d;">&#121;&#x6f;&#x75;&#x72;&#x65;&#x6d;&#x61;&#105;&#x6c;&#x40;&#x65;&#x78;&#x61;&#109;&#112;&#108;&#x65;&#x2e;&#x63;&#x6f;&#x6d;</a>“</li>
<li>git config –global core.editor <your favorite editor here><ul>
<li>Ex: git config –global core.editor vim</li>
</ul>
</li>
<li>git init：初始化一个repo。</li>
</ul>
<h3 id="Commit-结构"><a href="#Commit-结构" class="headerlink" title="Commit 结构"></a>Commit 结构</h3><ul>
<li>git status(gst)：查看 repo 状态</li>
<li>工作区：<ul>
<li>.git 目录</li>
<li>暂存区</li>
<li>工作目录</li>
</ul>
</li>
</ul>
<h3 id="structure"><a href="#structure" class="headerlink" title="structure"></a>structure</h3><ul>
<li>git add <filename>(ga)：添加一个文件到暂存区</li>
<li>git add .(gaa)：添加所有文件到暂存区</li>
<li>git add *.js：添加所有后缀为js的文件到暂存区</li>
<li>git rm –cached <file>：从暂存区删除一个新文件</li>
<li>git commit -m “My first commit”(gcmsg)：创建一次带 message 的提交</li>
<li>git commit -v -a(gca)：<ul>
<li>-v是 verbose 的缩写，会在底部显示差异信息和更多有意义的信息</li>
<li>-a 类似于 git add .，会添加所有被修改和删除的文件，但会忽略新创建的文件</li>
</ul>
</li>
<li>git help <command>：查看对应命令的帮助手册</li>
<li>git log(glg,glgg,glo, glog)：查看项目的提交历史</li>
</ul>
<h3 id="暂存区管理"><a href="#暂存区管理" class="headerlink" title="暂存区管理"></a>暂存区管理</h3><ul>
<li>git reset HEAD <filename>(grh)：从暂存区删除一个被修改的文件</li>
<li>git reset HEAD(grh)：从暂存区删除所有被修改的文件</li>
<li>git checkout <filename>(gco)：从暂存区删除一个被修改的文件，并撤销文件的更改</li>
<li>git commit -m “My first commit” –amend：添加文件&#x2F;更改在暂存区的最后一次提交</li>
<li>git commit -v -a –amend(gca!)：添加文件&#x2F;更改在暂存区的最后一次提交</li>
<li>.gitignore：告诉git，哪些文件不被加入版本跟踪</li>
<li>可以使用 git add <filename> -f 命令添加一个不被版本跟踪的文件</li>
<li>git diff <filename>(gd)：查看基于当前文件的最后一次提交的更改差异</li>
<li>git diff (gd)：查看基于所有文件的最后一次提交的更改差异</li>
<li>git reset HEAD~2 –soft：从项目提交历史中删除最近两次提交，但不丢弃文件的更改</li>
<li>git reset HEAD~2 –hard：从项目提交历史中删除最近两次提交，但会丢弃文件的更改和在(最后两次)提交中创建的新文件</li>
<li>git reset <commit> –soft –hard：<ul>
<li>–soft：将所有被更改的文件回溯到“待提交”状态</li>
<li>–hard：commit 之后，对被git追踪的文件的任何更改都被丢弃</li>
</ul>
</li>
<li>git reflog：显示包括”被撤销”在内的所有提交</li>
<li>git merge <commit hash>：重新提交(restore the commit)</li>
<li>git clean -f：删除工作目录中不被git进行版本追踪的文件</li>
</ul>
<h3 id="Stashed-amp-Branches"><a href="#Stashed-amp-Branches" class="headerlink" title="Stashed &amp; Branches"></a>Stashed &amp; Branches</h3><h3 id="Stash"><a href="#Stash" class="headerlink" title="Stash"></a>Stash</h3><ul>
<li>git stash(gsta)：将所有暂存区的文件移动到“储藏区”，类似于另一种类型的工作区</li>
<li>git stash list：查看储藏队列(Stash lists)</li>
<li>git stash apply：将最近一次储藏恢复到暂存区(可以用类似 git stash apply stash@{num}(num从0开始计数) 的命令来使用在队列中的任意一个储藏(stashes))</li>
<li>git stash clear：清空储藏队列</li>
<li>git stash save “name of the stash”：为储藏设置命名</li>
<li>git stash pop(gstp)：将最近一次储藏恢复到暂存区并从储藏队列删除此储藏</li>
<li>git stash drop(gstd)：从储藏队列删除最近一次储藏(stash@{0})(git stash drop stash@{num} 从储藏队列删除指定储藏)</li>
</ul>
<h3 id="Branch"><a href="#Branch" class="headerlink" title="Branch"></a>Branch</h3><p>- </p>
<ul>
<li>git checkout -b dev(gco)：创建 dev 分支并从当前分支切换到 dev 分支</li>
<li>git branch(gb)：查看所有分支</li>
<li>git checkout master(gcm)：切换到主分支</li>
<li>git merge <branch>(gm)：合并分支</li>
<li>git rebase master：先将 master 上的更改合并到当前分支，再添加当前分支的更改。如果有冲突，解决冲突后加 –continue 参数继续合并</li>
<li>git branch -d <branch>： 删除分支，-D 则强制删除分支</li>
<li>git merge <branch> –squash：将多次提交合并成一个，其流程如下：</li>
<li><h1 id="Go-to-the-master-branch"><a href="#Go-to-the-master-branch" class="headerlink" title="Go to the master branch"></a>Go to the <code>master</code> branch</h1></li>
<li>git checkout master</li>
<li><h1 id="Create-a-temp-branch"><a href="#Create-a-temp-branch" class="headerlink" title="Create a temp branch"></a>Create a temp branch</h1></li>
<li>git checkout -b temp</li>
<li><h1 id="Merge-the-feature-x2F-x-branch-into-the-temp-using-–squash"><a href="#Merge-the-feature-x2F-x-branch-into-the-temp-using-–squash" class="headerlink" title="Merge the feature&#x2F;x branch into the temp using –squash"></a>Merge the feature&#x2F;x branch into the temp using –squash</h1></li>
<li>git merge feature&#x2F;x –squash</li>
<li><h1 id="See-the-new-modifications-x2F-files-in-the-Staging-Area"><a href="#See-the-new-modifications-x2F-files-in-the-Staging-Area" class="headerlink" title="See the new modifications&#x2F;files in the Staging Area"></a>See the new modifications&#x2F;files in the Staging Area</h1></li>
<li>git status</li>
<li><h1 id="Create-the-unified-commit"><a href="#Create-the-unified-commit" class="headerlink" title="Create the unified commit"></a>Create the unified commit</h1></li>
<li>git commit -m “Add feature&#x2F;x”</li>
<li><h1 id="Delete-the-feature-x2F-x-branch"><a href="#Delete-the-feature-x2F-x-branch" class="headerlink" title="Delete the feature&#x2F;x branch"></a>Delete the feature&#x2F;x branch</h1></li>
<li>git branch -D feature&#x2F;x</li>
<li>rebase 和 merge 的区别：</li>
<li>rebase:</li>
<li>提交历史(的展示)是线性的</li>
<li>缺点：会删除最近一个 commit，然后创建一次新的 commit</li>
<li>如果已提交到远程，不要使用 rebase</li>
<li>merge:</li>
<li>提交历史(的展示)是分叉的</li>
<li>对于两个分支的合并，会创建一个次新的 commit</li>
<li>远程仓库管理</li>
<li></li>
<li>git remote add <name> <url>：添加一个将被追踪的远程仓库</li>
<li>git remote rm <name>：移除一个远程仓库</li>
<li>git push <remote> <remote-branch>(gp,ggp)：将当前分支的本地 commit 推送到远程仓库</li>
<li>git fetch <remote> <remote-branch>：拉取远程仓库的最新 commit 到当前(本地)分支(<remote>&#x2F;<branch>)，不会合并</li>
<li>git pull <remote> <remote-branch>(gl,ggl)：拉取远程仓库的最新 commit 到当前(本地)分支，并自动 merge</li>
<li>git pull –rebase(gup)：以 rebase 的方式进行合并，而不是 merge</li>
</ul>
<h3 id="其它有用的命令"><a href="#其它有用的命令" class="headerlink" title="其它有用的命令"></a>其它有用的命令</h3><ul>
<li>git tag <name>：创建一个 tag(如：v1.3)</li>
<li>git push –tags：将本地 tags 推送到远程仓库</li>
<li>git push <tag>：推送指定的本地 tag 到远程</li>
</ul>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/03/06/0x21 Linux下切换Python2和Python3的4种方法/"><span>0x21 Linux下切换Python2和Python3的4种方法</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/03/06/0x21 Linux下切换Python2和Python3的4种方法/" rel="bookmark">
        <time class="entry-date published" datetime="2017-03-06T15:31:48.000Z">
          2017-03-06
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <span id="more"></span>

<p>本篇博文面向Linux用户，在Linux下(Ubuntu)下测试通过，Win用户嘛，……</p>
<h3 id="0x00-为什么需要有两个版本的Python"><a href="#0x00-为什么需要有两个版本的Python" class="headerlink" title="0x00 为什么需要有两个版本的Python"></a>0x00 为什么需要有两个版本的Python</h3><p>Python2和Python3不兼容是每个接触过Python的开发者都知道的事，虽说Python3是未来，但是仍然有很多项目采用Python2开发。Linux的许多发行版本(如Ubuntu)都会自带Python2.7，但是当我们准备开发一个Python3项目的时候，我们该怎么办？</p>
<p>那就把Python3也下咯。嗯，Linux下确实是可以两个一起装的，但是问题是你怎么切换两个版本的Python。</p>
<h3 id="0x01-修改别名"><a href="#0x01-修改别名" class="headerlink" title="0x01 修改别名"></a>0x01 修改别名</h3><p>首先先来看一下我们的默认Python版本</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ python --version</span><br><span class="line">Python 2.7.6</span><br></pre></td></tr></table></figure>
<p>然后我们修改一下别名</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ alias python=&#x27;/usr/bin/python3&#x27;</span><br><span class="line">$ python --version</span><br><span class="line">Python 3.4.3  # 版本已经改变</span><br></pre></td></tr></table></figure>
<p>&#x2F;usr&#x2F;bin&#x2F;python3这个路径是怎么找到的呢？</p>
<p>一般来说，软件的二进制文件都可以在&#x2F;usr&#x2F;bin或&#x2F;usr&#x2F;local&#x2F;bin(这个优先级高一点)找到。当然如果你是Debian系的Linux，可以这么找(前提是你已经安装了Python3)：</p>
<p>$ dpkg -L python3<br>上面的别名修改只是暂时性的，重开一个窗口后配置就不见了。如果要使每个窗口都使用这个别名，可以编辑<del>&#x2F;.bashrc(如果你是别的shell的话，就不是这个文件，如zsh是</del>&#x2F;.zshrc)，把alias配置写入文件。</p>
<p>修改别名优点是足够简单，但是切换不灵活。</p>
<h3 id="0x02-链接文件"><a href="#0x02-链接文件" class="headerlink" title="0x02 链接文件"></a>0x02 链接文件</h3><p>在&#x2F;usr&#x2F;bin中建立一个链接文件指向Python3。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ln -s python /usr/bin/python3</span><br><span class="line">$ python --version</span><br><span class="line">Python 3.4.3</span><br></pre></td></tr></table></figure>
<p>跟修改别名一样，也是修改不够灵活。</p>
<h3 id="0x03-采用update-alternatives-切换版本"><a href="#0x03-采用update-alternatives-切换版本" class="headerlink" title="0x03 采用update-alternatives 切换版本"></a>0x03 采用update-alternatives 切换版本</h3><p>update-alternatives是Debian提供的一个工具(非Debian系的就不用看了)，原理类似于上面一个办法，也是通过链接的方式，但是其切换的过程非常方便。</p>
<p>首先看一下update-alternatives的帮助信息：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">$ update-alternatives --help</span><br><span class="line">用法：update-alternatives [&lt;选项&gt; ...] &lt;命令&gt;</span><br><span class="line"></span><br><span class="line">命令：</span><br><span class="line">  --install &lt;链接&gt; &lt;名称&gt; &lt;路径&gt; &lt;优先级&gt;</span><br><span class="line">    [--slave &lt;链接&gt; &lt;名称&gt; &lt;路径&gt;] ...</span><br><span class="line">                           在系统中加入一组候选项。</span><br><span class="line">  --remove &lt;名称&gt; &lt;路径&gt;   从 &lt;名称&gt; 替换组中去除 &lt;路径&gt; 项。</span><br><span class="line">  --remove-all &lt;名称&gt;      从替换系统中删除 &lt;名称&gt; 替换组。</span><br><span class="line">  --auto &lt;名称&gt;            将 &lt;名称&gt; 的主链接切换到自动模式。</span><br><span class="line">  --display &lt;名称&gt;         显示关于 &lt;名称&gt; 替换组的信息。</span><br><span class="line">  --query &lt;名称&gt;           机器可读版的 --display &lt;名称&gt;.</span><br><span class="line">  --list &lt;名称&gt;            列出 &lt;名称&gt; 替换组中所有的可用候选项。</span><br><span class="line">  --get-selections         列出主要候选项名称以及它们的状态。</span><br><span class="line">  --set-selections         从标准输入中读入候选项的状态。</span><br><span class="line">  --config &lt;名称&gt;          列出 &lt;名称&gt; 替换组中的可选项，并就使用其中</span><br><span class="line">                           哪一个，征询用户的意见。</span><br><span class="line">  --set &lt;名称&gt; &lt;路径&gt;      将 &lt;路径&gt; 设置为 &lt;名称&gt; 的候选项。</span><br><span class="line">  --all                    对所有可选项一一调用 --config 命令。</span><br><span class="line"></span><br><span class="line">&lt;链接&gt; 是指向 /etc/alternatives/&lt;名称&gt; 的符号链接。</span><br><span class="line">    (如 /usr/bin/pager)</span><br><span class="line">&lt;名称&gt; 是该链接替换组的主控名。</span><br><span class="line">    (如 pager)</span><br><span class="line">&lt;路径&gt; 是候选项目标文件的位置。</span><br><span class="line">    (如 /usr/bin/less)</span><br><span class="line">&lt;优先级&gt; 是一个整数，在自动模式下，这个数字越高的选项，其优先级也就越高。</span><br><span class="line"></span><br><span class="line">选项：</span><br><span class="line">  --altdir &lt;目录&gt;          改变候选项目录。</span><br><span class="line">  --admindir &lt;目录&gt;        设置 statoverride 文件的目录。</span><br><span class="line">  --log &lt;文件&gt;             改变日志文件。</span><br><span class="line">  --force                  就算没有通过自检，也强制执行操作。</span><br><span class="line">  --skip-auto              在自动模式中跳过设置正确候选项的提示</span><br><span class="line">                           (只与 --config 有关)</span><br><span class="line">  --verbose                启用详细输出。</span><br><span class="line">  --quiet                  安静模式，输出尽可能少的信息。不显示输出信息。</span><br><span class="line">  --help                   显示本帮助信息。</span><br><span class="line">  --version                显示版本信息。</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>我们仅需要了解3个参数就行了</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">--install &lt;链接&gt; &lt;名称&gt; &lt;路径&gt; &lt;优先级&gt;：建立一组候选项</span><br><span class="line">--config &lt;名称&gt;：配置&lt;名称&gt;组中的可选项，并选择使用其中哪一个</span><br><span class="line">--remove &lt;名称&gt; &lt;路径&gt;：从&lt;名称&gt;中去掉&lt;路径&gt;选项</span><br></pre></td></tr></table></figure>
<p>首先我们先看一下有没有关于Python的可选项：</p>
<p><code>$ update-alternatives --display python</code><br>update-alternatives: 错误: 无 python 的候选项<br>那首先先建立python的组,并添加Python2和Python3的可选项</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo update-alternatives --install /usr/bin/python python /usr/bin/python2.7 2 # 添加Python2可选项，优先级为2</span><br><span class="line">$ sudo update-alternatives --install /usr/bin/python python /usr/bin/python3.4 1 #添加Python3可选项，优先级为1</span><br></pre></td></tr></table></figure>
<p>注意，这里的&#x2F;usr&#x2F;bin&#x2F;python链接文件，两个可选项必须是一样的，这样这个链接文件才可以选择两个不同的可选项去链接。</p>
<p>这时如果我们查看&#x2F;usr&#x2F;bin&#x2F;python这个文件时，会发现它已经链接到了&#x2F;etc&#x2F;alternatives&#x2F;python。</p>
<p><code>lrwxrwxrwx 1 root root        24  6月 19 18:39 python -&gt; /etc/alternatives/python </code>然后我们再看一下版本</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ python --version</span><br><span class="line">Python 2.7.6</span><br></pre></td></tr></table></figure>
<p>为什么还是Python2，看一下配置</p>
<p><code>$ sudo update-alternatives --config python </code>有 2 个候选项可用于替换 python (提供 &#x2F;usr&#x2F;bin&#x2F;python)。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  选择       路径              优先级  状态</span><br><span class="line">------------------------------------------------------------</span><br><span class="line">* 0            /usr/bin/python2.7   2         自动模式</span><br><span class="line">  1            /usr/bin/python2.7   2         手动模式</span><br><span class="line">  2            /usr/bin/python3.4   1         手动模式</span><br></pre></td></tr></table></figure>
<p>要维持当前值[*]请按回车键，或者键入选择的编号：<br>原来是因为默认选中了自动模式，而Python2的优先级高于Python3，这时候只要键入2，就可以使用Python3了。</p>
<p>如果你想要删除某个可选项的话：</p>
<p><code>$ sudo update-alternatives --remove python /usr/bin/python2.7 </code>update-alternatives只适用于Debian系Liunx。</p>
<h3 id="0x04-virtualenvwrapper-切换版本"><a href="#0x04-virtualenvwrapper-切换版本" class="headerlink" title="0x04 virtualenvwrapper 切换版本"></a>0x04 virtualenvwrapper 切换版本</h3><p>virtualenvwrapper是管理Python虚拟环境的工具，可以很方便的为不同的项目建立独立的环境，每个项目都可以安装自己的依赖，同时也支持在不同的虚拟环境中存在不同版本的Python。</p>
<p>首先安装virtualenvwrapper，可以选择apt安装或者pip安装</p>
<p>apt安装</p>
<p><code>$ sudo apt-get install virtualenvwrapper</code><br>pip安装</p>
<p><code>$ sudo pip install virtualenvwrapper </code>当你需要使用Python2开发项目时，建立一个Python2的虚拟环境：</p>
<p><code>$ mkvirtualenv -p /usr/bin/python2 env27 </code>当你需要Python3开发时：</p>
<p><code>$ mkvirtualenv -p /usr/bin/python3.4 env34 </code>然后可以随时切换不同的虚拟环境：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ workon env27  # 进入Python2环境</span><br><span class="line">$ workon env34  # 进入Python3环境</span><br></pre></td></tr></table></figure>
<p>更爽的是，你可以在进入虚拟环境的同时切换到项目目录，只需要编辑$VIRTUAL_ENV&#x2F;bin&#x2F;postactivate这个文件即可：</p>
<p><code>$ vim $VIRTUAL_ENV/bin/postactivate  #前提是已经进入对应的虚拟环境 </code>在文件中添加切换目录的命令：</p>
<p><code>cd  /path/to/your/project </code>### 0x05 总结<br>前面两种方法不推荐使用。</p>
<p>使用 update-alternatives 切换版本只适用于Debian系的Linux。</p>
<p>推荐使用 virtualenvwrapper 来管理虚拟环境和版本。</p>
<p>另外，本文介绍的切换不同版本软件的方法，除了 virtualenvwrapper 之外，前面3种方法都适用于其他软件，比如Java（open-jdk和oracle-jdk）。</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2016/11/10/0x12 nodejs 手记/"><span>0x12 nodejs 手记</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2016/11/10/0x12 nodejs 手记/" rel="bookmark">
        <time class="entry-date published" datetime="2016-11-10T18:21:35.000Z">
          2016-11-10
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <span id="more"></span>

<h2 id="1-nodejs使用淘宝的源"><a href="#1-nodejs使用淘宝的源" class="headerlink" title="1. nodejs使用淘宝的源"></a>1. nodejs使用淘宝的源</h2><h3 id="1-临时使用"><a href="#1-临时使用" class="headerlink" title="1.临时使用"></a>1.临时使用</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm --registry https://registry.npm.taobao.org install express</span><br></pre></td></tr></table></figure>
<h3 id="2-持久使用"><a href="#2-持久使用" class="headerlink" title="2.持久使用"></a>2.持久使用</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config set registry https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure>
<p>配置后可通过下面方式来验证是否成功</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm config get registry</span><br><span class="line">// 或</span><br><span class="line">npm info express</span><br></pre></td></tr></table></figure>
<h2 id="2"><a href="#2" class="headerlink" title="2."></a>2.</h2>
      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>




<nav class="pagination">
  
  
  <a href="/page/2/" class="pagination-next">下一页</a>
  
</nav>
    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2022 大侠曾
    
  </p>
</footer>
    
    
  </div>
</div>
</body>
</html>